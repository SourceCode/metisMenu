{"version":3,"names":["PATCH_FLAG","$","event","add","originalAdd","elem","types","handler","data","selector","undefined","call","this","Util","TRANSITION_END","triggerTransitionEnd","element","trigger","supportsTransitionEnd","Boolean","transitionEndEmulator","duration","called","one","setTimeout","fn","mmEmulateTransitionEnd","special","bindType","delegateType","handle","target","is","handleObj","apply","arguments","NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","TRANSITION_DURATION","Default","toggle","preventDefault","triggerElement","parentTrigger","subMenu","Event","SHOW","SHOWN","HIDE","HIDDEN","CLICK_DATA_API","ClassName","METIS","ACTIVE","COLLAPSE","COLLAPSING","MetisMenu","constructor","config","transitioning","init","self","conf","el","addClass","find","children","attr","parents","has","not","on","e","eTar","paRent","parent","sibLi","siblings","sibTrigger","hasClass","removeActive","setActive","onTransitionStart","li","ul","length","show","removeClass","hide","startEvent","isDefaultPrevented","toggleElem","height","setTransitioning","scrollHeight","offsetHeight","complete","onTransitionEnd","css","isTransitioning","dispose","removeData","off","jQueryInterface","each","$this","Error","Constructor","noConflict"],"sources":["../src/jquery-bridge.js","../src/util.js","../src/metisMenu.js"],"sourcesContent":["import $ from 'jquery';\n\nconst PATCH_FLAG = '__metisMenuJquery4EventAddShim';\n\nif ($?.event?.add && !$.event.add[PATCH_FLAG]) {\n  const originalAdd = $.event.add;\n\n  $.event.add = function(elem, types, handler, data, selector) {\n    // jQuery 4 expects selector to be a string; guard to avoid selector.replace errors.\n    if (selector != null && typeof selector !== 'string') {\n      selector = undefined;\n    }\n\n    return originalAdd.call(this, elem, types, handler, data, selector);\n  };\n\n  $.event.add[PATCH_FLAG] = true;\n}\n","import $ from 'jquery';\n\nconst Util = (($) => {\n  const TRANSITION_END = 'transitionend';\n\n  const Util = {\n    TRANSITION_END: 'mmTransitionEnd',\n\n    triggerTransitionEnd(element) {\n      $(element).trigger(TRANSITION_END);\n    },\n\n    supportsTransitionEnd() {\n      return Boolean(TRANSITION_END);\n    },\n  };\n\n  function getSpecialTransitionEndEvent() {\n    return {\n      bindType: TRANSITION_END,\n      delegateType: TRANSITION_END,\n      handle(event) {\n        if ($(event.target).is(this)) {\n          return event\n            .handleObj\n            .handler\n            .apply(this, arguments);\n        }\n        return undefined;\n      },\n    };\n  }\n\n  function transitionEndEmulator(duration) {\n    let called = false;\n\n    $(this).one(Util.TRANSITION_END, () => {\n      called = true;\n    });\n\n    setTimeout(() => {\n      if (!called) {\n        Util.triggerTransitionEnd(this);\n      }\n    }, duration);\n\n    return this;\n  }\n\n  function setTransitionEndSupport() {\n    $.fn.mmEmulateTransitionEnd = transitionEndEmulator;\n    $.event.special[Util.TRANSITION_END] = getSpecialTransitionEndEvent();\n  }\n\n  setTransitionEndSupport();\n\n  return Util;\n})($);\n\nexport default Util;\n","import './jquery-bridge.js';\nimport $ from 'jquery';\nimport Util from './util';\n\nconst NAME = 'metisMenu';\nconst DATA_KEY = 'metisMenu';\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst DATA_API_KEY = '.data-api';\nconst JQUERY_NO_CONFLICT = $.fn[NAME];\nconst TRANSITION_DURATION = 350;\n\nconst Default = {\n    toggle: true,\n    preventDefault: true,\n    triggerElement: 'a',\n    parentTrigger: 'li',\n    subMenu: 'ul',\n};\n\nconst Event = {\n    SHOW: `show${EVENT_KEY}`,\n    SHOWN: `shown${EVENT_KEY}`,\n    HIDE: `hide${EVENT_KEY}`,\n    HIDDEN: `hidden${EVENT_KEY}`,\n    CLICK_DATA_API: `click${EVENT_KEY}${DATA_API_KEY}`,\n};\n\nconst ClassName = {\n    METIS: 'metismenu',\n    ACTIVE: 'mm-active',\n    SHOW: 'mm-show',\n    COLLAPSE: 'mm-collapse',\n    COLLAPSING: 'mm-collapsing',\n    COLLAPSED: 'mm-collapsed',\n};\n\nclass MetisMenu {\n    constructor(element, config) {\n        this.element = element;\n        this.config = {\n            ...Default,\n            ...config,\n        };\n        this.transitioning = null;\n\n        this.init();\n    }\n\n    init() {\n        const self = this;\n        const conf = this.config;\n        const el = $(this.element);\n\n        el.addClass(ClassName.METIS); // add metismenu class to element\n\n        el.find(`${conf.parentTrigger}.${ClassName.ACTIVE}`)\n            .children(conf.triggerElement)\n            .attr('aria-expanded', 'true'); // add attribute aria-expanded=true the trigger element\n\n        el.find(`${conf.parentTrigger}.${ClassName.ACTIVE}`)\n            .parents(conf.parentTrigger)\n            .addClass(ClassName.ACTIVE);\n\n        el.find(`${conf.parentTrigger}.${ClassName.ACTIVE}`)\n            .parents(conf.parentTrigger)\n            .children(conf.triggerElement)\n            .attr('aria-expanded', 'true'); // add attribute aria-expanded=true the triggers of all parents\n\n        el.find(`${conf.parentTrigger}.${ClassName.ACTIVE}`)\n            .has(conf.subMenu)\n            .children(conf.subMenu)\n            .addClass(`${ClassName.COLLAPSE} ${ClassName.SHOW}`);\n\n        el\n            .find(conf.parentTrigger)\n            .not(`.${ClassName.ACTIVE}`)\n            .has(conf.subMenu)\n            .children(conf.subMenu)\n            .addClass(ClassName.COLLAPSE);\n\n        el\n            .find(conf.parentTrigger)\n            // .has(conf.subMenu)\n            .children(conf.triggerElement)\n            .on(Event.CLICK_DATA_API, function(e) {\n                const eTar = $(this);\n\n                if (eTar.attr('aria-disabled') === 'true') {\n                    return;\n                }\n\n                if (conf.preventDefault && eTar.attr('href') === '#') {\n                    e.preventDefault();\n                }\n\n                const paRent = eTar.parent(conf.parentTrigger);\n                const sibLi = paRent.siblings(conf.parentTrigger);\n                const sibTrigger = sibLi.children(conf.triggerElement);\n\n                if (paRent.hasClass(ClassName.ACTIVE)) {\n                    eTar.attr('aria-expanded', 'false');\n                    self.removeActive(paRent);\n                } else {\n                    eTar.attr('aria-expanded', 'true');\n                    self.setActive(paRent);\n                    if (conf.toggle) {\n                        self.removeActive(sibLi);\n                        sibTrigger.attr('aria-expanded', 'false');\n                    }\n                }\n\n                if (conf.onTransitionStart) {\n                    conf.onTransitionStart(e);\n                }\n            });\n    }\n\n    setActive(li) {\n        $(li).addClass(ClassName.ACTIVE);\n        const ul = $(li).children(this.config.subMenu);\n        if (ul.length > 0 && !ul.hasClass(ClassName.SHOW)) {\n            this.show(ul);\n        }\n    }\n\n    removeActive(li) {\n        $(li).removeClass(ClassName.ACTIVE);\n        const ul = $(li).children(`${this.config.subMenu}.${ClassName.SHOW}`);\n        if (ul.length > 0) {\n            this.hide(ul);\n        }\n    }\n\n    show(element) {\n        if (this.transitioning || $(element).hasClass(ClassName.COLLAPSING)) {\n            return;\n        }\n        const elem = $(element);\n\n        const startEvent = $.Event(Event.SHOW);\n        elem.trigger(startEvent);\n\n        if (startEvent.isDefaultPrevented()) {\n            return;\n        }\n\n        elem.parent(this.config.parentTrigger).addClass(ClassName.ACTIVE);\n\n        if (this.config.toggle) {\n            const toggleElem = elem.parent(this.config.parentTrigger).siblings().children(`${this.config.subMenu}.${ClassName.SHOW}`);\n            this.hide(toggleElem);\n        }\n\n        elem\n            .removeClass(ClassName.COLLAPSE)\n            .addClass(ClassName.COLLAPSING)\n            .height(0);\n\n        this.setTransitioning(true);\n\n        const complete = () => {\n            // check if disposed\n            if (!this.config || !this.element) {\n                return;\n            }\n            elem\n                .removeClass(ClassName.COLLAPSING)\n                .addClass(`${ClassName.COLLAPSE} ${ClassName.SHOW}`)\n                .height('');\n\n            this.setTransitioning(false);\n\n            elem.trigger(Event.SHOWN);\n        };\n\n        elem\n            .height(element[0].scrollHeight)\n            .one(Util.TRANSITION_END, complete)\n            .mmEmulateTransitionEnd(TRANSITION_DURATION);\n    }\n\n    hide(element) {\n        if (\n            this.transitioning || !$(element).hasClass(ClassName.SHOW)\n        ) {\n            return;\n        }\n\n        const elem = $(element);\n\n        const startEvent = $.Event(Event.HIDE);\n        elem.trigger(startEvent);\n\n        if (startEvent.isDefaultPrevented()) {\n            return;\n        }\n\n        elem.parent(this.config.parentTrigger).removeClass(ClassName.ACTIVE);\n        elem.height(elem.height())[0].offsetHeight;\n\n        elem\n            .addClass(ClassName.COLLAPSING)\n            .removeClass(ClassName.COLLAPSE)\n            .removeClass(ClassName.SHOW);\n\n        this.setTransitioning(true);\n\n        const complete = () => {\n            // check if disposed\n            if (!this.config || !this.element) {\n                return;\n            }\n            if (this.transitioning && this.config.onTransitionEnd) {\n                this.config.onTransitionEnd();\n            }\n\n            this.setTransitioning(false);\n            elem.trigger(Event.HIDDEN);\n\n            elem\n                .removeClass(ClassName.COLLAPSING)\n                .addClass(ClassName.COLLAPSE);\n        };\n\n        if (elem.height() === 0 || elem.css('display') === 'none') {\n            complete();\n        } else {\n            elem\n                .height(0)\n                .one(Util.TRANSITION_END, complete)\n                .mmEmulateTransitionEnd(TRANSITION_DURATION);\n        }\n    }\n\n    setTransitioning(isTransitioning) {\n        this.transitioning = isTransitioning;\n    }\n\n    dispose() {\n        $.removeData(this.element, DATA_KEY);\n\n        $(this.element)\n            .find(this.config.parentTrigger)\n            // .has(this.config.subMenu)\n            .children(this.config.triggerElement)\n            .off(Event.CLICK_DATA_API);\n\n        this.transitioning = null;\n        this.config = null;\n        this.element = null;\n    }\n\n    static jQueryInterface(config) {\n        return this.each(function() {\n            const $this = $(this);\n            let data = $this.data(DATA_KEY);\n            const conf = {\n                ...Default,\n                ...$this.data(),\n                ...(typeof config === 'object' && config ? config : {}),\n            };\n\n            if (!data) {\n                data = new MetisMenu(this, conf);\n                $this.data(DATA_KEY, data);\n            }\n\n            if (typeof config === 'string') {\n                if (data[config] === undefined) {\n                    throw new Error(`No method named \"${config}\"`);\n                }\n                data[config]();\n            }\n        });\n    }\n}\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n$.fn[NAME] = MetisMenu.jQueryInterface;\n$.fn[NAME].Constructor = MetisMenu;\n$.fn[NAME].noConflict = () => {\n    $.fn[NAME] = JQUERY_NO_CONFLICT;\n    return MetisMenu.jQueryInterface;\n};\n\nexport default MetisMenu;\n"],"mappings":"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","ignoreList":[]}